name: Multi Stage CI Workflow

on:
  push:
    branches:
      - master

jobs:

  stage1:
    name: Stage 1 - Checkout & Initial Task
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Stage 1 Step
        run: echo "Stage 1 completed successfully"

  stage2:
    name: Stage 2 - Build / Process
    runs-on: ubuntu-latest
    needs: stage1     # ðŸ‘ˆ depends on stage1

    steps:
      - name: Stage 2 Step
        run: echo "Stage 2 completed successfully"

  stage3:
    name: Stage 3 - Final / Deploy
    runs-on: ubuntu-latest
    needs: stage2     # ðŸ‘ˆ depends on stage2

    steps:
      - name: Stage 3 Step
        run: echo "Stage 3 completed successfully"